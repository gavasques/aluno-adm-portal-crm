
@import './styles/accessibility.css';
@import './styles/container-queries.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CSS Variables for Container Queries */
:root {
  --container-xs: 320px;
  --container-sm: 384px;
  --container-md: 512px;
  --container-lg: 768px;
  --container-xl: 1024px;
  --container-2xl: 1280px;
  
  /* Safe area support */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Safe area utilities */
.pt-safe-top {
  padding-top: var(--safe-area-inset-top);
}

.pb-safe-bottom {
  padding-bottom: var(--safe-area-inset-bottom);
}

.pl-safe-left {
  padding-left: var(--safe-area-inset-left);
}

.pr-safe-right {
  padding-right: var(--safe-area-inset-right);
}

/* Container query utilities */
.container-query {
  container-type: inline-size;
}

/* Enhanced focus styles */
@layer utilities {
  .focus-visible-enhanced {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2;
  }
  
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
  
  .fluid-typography {
    font-size: clamp(0.875rem, 2.5vw, 1.25rem);
    line-height: clamp(1.4, 1.8, 1.6);
  }
}

/* Performance optimizations */
* {
  box-sizing: border-box;
}

img, video {
  max-width: 100%;
  height: auto;
}

/* Container queries polyfill fallback */
@supports not (container-type: inline-size) {
  .container-query {
    width: 100%;
  }
}

/* Smooth scrolling for better UX */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Enhanced mobile viewport handling */
@supports (height: 100dvh) {
  .min-h-screen {
    min-height: 100dvh;
  }
}

/* High contrast support */
@media (prefers-contrast: more) {
  :root {
    --tw-ring-color: #000000;
  }
  
  button, .btn {
    border: 2px solid currentColor;
  }
}
